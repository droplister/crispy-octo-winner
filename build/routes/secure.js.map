{"version":3,"sources":["../../src/routes/secure.js"],"names":["router","express","Router","post","req","res","body","message","status","json","email","user","ChatModel","create","chat"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,OAAZ;AAAA,2FAAqB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACdD,GAAG,CAACE,IAAJ,CAASC,OADK;AAAA;AAAA;AAAA;;AAEjBF,YAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBF,cAAAA,OAAO,EAAE,cADU;AAEnBC,cAAAA,MAAM,EAAE;AAFW,aAArB;AAFiB;AAAA;;AAAA;AAOTD,YAAAA,OAPS,GAOGH,GAAG,CAACE,IAPP,CAOTC,OAPS;AAQTG,YAAAA,KARS,GAQCN,GAAG,CAACO,IARL,CAQTD,KARS,EASjB;;AATiB;AAAA,mBAUEE,sBAAUC,MAAV,CAAiB;AAAEH,cAAAA,KAAK,EAALA,KAAF;AAASH,cAAAA,OAAO,EAAPA;AAAT,aAAjB,CAVF;;AAAA;AAUXO,YAAAA,IAVW;AAWjBT,YAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBK,cAAAA,IAAI,EAAJA,IADmB;AAEnBP,cAAAA,OAAO,EAAE,cAFU;AAGnBC,cAAAA,MAAM,EAAE;AAHW,aAArB;;AAXiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArB;;AAAA;AAAA;AAAA;AAAA;eAmBeR,M","sourcesContent":["import express from 'express';\nimport ChatModel from '../models/ChatModel';\n\nconst router = express.Router();\n\nrouter.post('/chat', async (req, res) => {\n  if (!req.body.message) {\n    res.status(400).json({\n      message: 'invalid body',\n      status: 400,\n    });\n  } else {\n    const { message } = req.body;\n    const { email } = req.user;\n    // console.log(`${JSON.stringify(req.user.name)}: ${req.body.message}`);\n    const chat = await ChatModel.create({ email, message });\n    res.status(200).json({\n      chat,\n      message: 'message sent',\n      status: 200,\n    });\n  }\n});\n\nexport default router;\n"],"file":"secure.js"}